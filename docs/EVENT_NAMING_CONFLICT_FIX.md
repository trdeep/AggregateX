# Eventå‘½åå†²çªä¿®å¤æŠ¥å‘Š

## ğŸš¨ å‘ç°çš„é—®é¢˜

åœ¨DDDæ¶æ„éªŒè¯å™¨ä¸­å‘ç°äº†ä¸¥é‡çš„ `*Event` å‘½åå†²çªï¼š

1. **é¢†åŸŸå±‚éªŒè¯è§„åˆ™** (ç¬¬254è¡Œå’Œç¬¬286è¡Œ)ï¼šè¦æ±‚æ‰€æœ‰ `.*Event` ç±»éƒ½åœ¨é¢†åŸŸå±‚
2. **æ¥å£å±‚éªŒè¯è§„åˆ™** (ç¬¬711è¡Œ)ï¼šè¦æ±‚æ‰€æœ‰ `.*Event` ç±»éƒ½åœ¨æ¥å£å±‚

è¿™å¯¼è‡´åŒä¸€ä¸ªå‘½åæ¨¡å¼è¢«è¦æ±‚åŒæ—¶å­˜åœ¨äºä¸¤ä¸ªä¸åŒçš„å±‚ä¸­ï¼Œé€ æˆæ¶æ„éªŒè¯å¤±è´¥ã€‚

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### é¢†åŸŸå±‚äº‹ä»¶è§„åˆ™è°ƒæ•´
```java
// ä¿®å¤å‰ - è¿‡äºå®½æ³›
classes().that().haveNameMatching(".*Event")
    .and().resideInAPackage(getDomainLayer())

// ä¿®å¤å - æ›´åŠ æ˜ç¡®
classes().that().haveNameMatching(".*DomainEvent")
    .or().haveNameMatching(".*Event")
    .and().resideInAPackage(getDomainLayer())
```

### æ¥å£å±‚äº‹ä»¶è§„åˆ™è°ƒæ•´
```java
// ä¿®å¤å‰ - ä¸é¢†åŸŸå±‚å†²çª
.or().haveNameMatching(".*Event")

// ä¿®å¤å - ä½¿ç”¨ç‰¹å®šå‰ç¼€
.or().haveNameMatching(".*IntegrationEvent")
.or().haveNameMatching(".*ExternalEvent")
```

## ğŸ“‹ æ–°çš„å‘½åçº¦å®š

### ğŸ¯ é¢†åŸŸå±‚äº‹ä»¶
- `*Event` - é¢†åŸŸäº‹ä»¶ï¼ˆä»…åœ¨é¢†åŸŸå±‚ä½¿ç”¨æ—¶ï¼‰
- `*DomainEvent` - æ˜ç¡®çš„é¢†åŸŸäº‹ä»¶
- ä¾‹å¦‚ï¼š`UserCreatedEvent`ã€`OrderCompletedDomainEvent`

### ğŸ”Œ æ¥å£å±‚äº‹ä»¶
- `*IntegrationEvent` - ç³»ç»Ÿé›†æˆäº‹ä»¶
- `*ExternalEvent` - å¤–éƒ¨ç³»ç»Ÿäº‹ä»¶
- ä¾‹å¦‚ï¼š`OrderIntegrationEvent`ã€`PaymentExternalEvent`

## âœ… ä¿®å¤æ•ˆæœ

### é¿å…å‘½åå†²çª
- é¢†åŸŸå±‚ï¼šä¸“æ³¨äº `*Event` å’Œ `*DomainEvent`
- æ¥å£å±‚ï¼šä½¿ç”¨ `*IntegrationEvent` å’Œ `*ExternalEvent`
- ä¸å†æœ‰äº¤å‰éªŒè¯å†²çª

### è¯­ä¹‰æ›´æ¸…æ™°
- **é¢†åŸŸäº‹ä»¶**ï¼šè¡¨ç¤ºä¸šåŠ¡çŠ¶æ€çš„é‡è¦å˜åŒ–
- **é›†æˆäº‹ä»¶**ï¼šç³»ç»Ÿé—´çš„æ•°æ®åŒæ­¥å’Œé€šçŸ¥
- **å¤–éƒ¨äº‹ä»¶**ï¼šæ¥è‡ªå¤–éƒ¨ç³»ç»Ÿçš„äº‹ä»¶é€šçŸ¥

### ç¬¦åˆDDDæœ€ä½³å®è·µ
- é¢†åŸŸäº‹ä»¶ä¿æŒåœ¨é¢†åŸŸå±‚çš„çº¯å‡€æ€§
- ç³»ç»Ÿé›†æˆäº‹ä»¶åœ¨æ¥å£å±‚å¤„ç†
- æ˜ç¡®çš„èŒè´£åˆ†ç¦»

## ğŸ” ä»£ç ç¤ºä¾‹

```java
// âœ… æ­£ç¡®çš„äº‹ä»¶å‘½å
// é¢†åŸŸå±‚
public class UserCreatedEvent extends DomainEvent { }
public class OrderCompletedDomainEvent extends DomainEvent { }

// æ¥å£å±‚
public class UserIntegrationEvent { }        // ç”¨æˆ·é›†æˆäº‹ä»¶
public class PaymentExternalEvent { }        // æ”¯ä»˜å¤–éƒ¨äº‹ä»¶
public class OrderSyncIntegrationEvent { }   // è®¢å•åŒæ­¥é›†æˆäº‹ä»¶

// âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆä¼šäº§ç”Ÿå†²çªï¼‰
// é¢†åŸŸå±‚
public class UserCreatedEvent { }
// æ¥å£å±‚
public class UserCreatedEvent { }  // å†²çªï¼
```

## ğŸ“„ æ›´æ–°çš„æ–‡æ¡£

- æ›´æ–°äº† `/docs/DTO_LAYERING_RULES.md` ä¸­çš„å‘½åçº¦å®š
- åœ¨ä»£ç æ³¨é‡Šä¸­æ·»åŠ äº†è¯¦ç»†çš„è¯´æ˜
- æä¾›äº†å…·ä½“çš„ä½¿ç”¨ç¤ºä¾‹

## ğŸš€ åç»­å»ºè®®

1. **ä»£ç å®¡æŸ¥**ï¼šåœ¨ä»£ç å®¡æŸ¥æ—¶æ³¨æ„Eventå‘½åè§„èŒƒ
2. **å¼€å‘æŒ‡å¯¼**ï¼šä¸ºå›¢é˜Ÿæä¾›æ˜ç¡®çš„å‘½åæŒ‡å—
3. **å·¥å…·é›†æˆ**ï¼šè€ƒè™‘åœ¨IDEä¸­æ·»åŠ ä»£ç æ¨¡æ¿
4. **æŒç»­ç›‘æ§**ï¼šå®šæœŸè¿è¡Œæ¶æ„éªŒè¯ç¡®ä¿æ— æ–°çš„å†²çª

è¿™æ¬¡ä¿®å¤ç¡®ä¿äº†DDDæ¶æ„éªŒè¯å™¨èƒ½å¤Ÿæ­£ç¡®åŒºåˆ†ä¸åŒç±»å‹çš„äº‹ä»¶ï¼Œé¿å…äº†å‘½åå†²çªï¼Œæé«˜äº†ä»£ç æ¶æ„çš„æ¸…æ™°æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
